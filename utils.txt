function utility for version 2