function utility for version 1